# importing the urllib library for creating the connection with the web
# importing the regualar expression library for string extraction
# importing the ssl library for certificate verification

import urllib.request
import urllib.parse
import urllib.error
import re
import ssl

# getting the beautifulsoup lib
from bs4 import BeautifulSoup

# ignore SSL certificate errors

ctx = ssl.create_default_context()
ctx.check_hostname = False
ctx.verify_mode = ssl.CERT_NONE

# asking user for url to scrape

url = input("enter the url: ")

# getting the html content of the url and storing it the "html" variable

html = urllib.request.urlopen(url, context=ctx).read()

# creating the beautiful soup object for parsing
soup = BeautifulSoup(html, 'html.parser')

p = soup.find_all('div', class_="catbox")

for item in p:
    para = item.p.text.strip()
    email = re.search('\S+@\S+', para)
    if email is not None:
        email = email.group()
        print(email[0:len(email)-1])
